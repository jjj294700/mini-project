{% extends "page_modules/base.html" %}

{% block content %}
<div class="container"> 
    <h1>신장암</h1>
    <div class="content">
      <p>신장암은 신장에 발생하는 암으로, 주요한 유형은 신세포암(RCC)입니다. 신장암의 생존율과 사망률은 주로 암이 발견된 시점과 진행 상태에 따라 달라집니다. 아래는 신장암의 기별 생존율과 사망률을 기초로 한 정보입니다.</p>

      <h3>신장암의 기별 생존율 및 사망률</h3>
      <p>신장암은 기별로 생존율이 다르며, 각 단계에서의 치료 및 예후가 크게 차이납니다.</p>
      
      <table class="table">
        <thead>
          <tr>
            <th>기</th>
            <th>설명</th>
            <th>5년 생존율</th>
            <th>사망률</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1기</td>
            <td>암이 신장 내에 국한되고, 신장 밖으로 전이되지 않은 초기 단계</td>
            <td>90% 이상</td>
            <td>매우 낮음</td>
          </tr>
          <tr>
            <td>2기</td>
            <td>암이 신장 내부에 있지만, 신장을 넘어 인근 조직에 전이되지 않은 상태</td>
            <td>70-85%</td>
            <td>낮음</td>
          </tr>
          <tr>
            <td>3기</td>
            <td>암이 신장 주변 림프절이나 인근 조직으로 전이된 상태</td>
            <td>50-60%</td>
            <td>상대적으로 높음</td>
          </tr>
          <tr>
            <td>4기</td>
            <td>암이 다른 장기로 전이된 상태</td>
            <td>10-20%</td>
            <td>매우 높음</td>
          </tr>
        </tbody>
      </table>

      <div class="image-section">
        <!-- 1기 이미지 -->
        <div class="image-container">
          <h4>1기 부터 4기 까지의 신장암 전이</h4>
          <img src="/static/dist/assets/img/kidney_1to4.png" alt="1기 신장암 이미지">
        </div>
        
      </div>

      <h3>예방 및 치료 방법</h3>
      <p>신장암은 조기에 발견되면 치료가 가능합니다. 주요 예방 방법은 흡연을 피하고, 건강한 체중을 유지하며, 고혈압과 당뇨병을 관리하는 것입니다. 정기적인 건강 검진을 통해 신장암을 조기에 발견하고, 치료에 신속히 대응할 수 있습니다.</p>
      <p>신장암의 치료는 주로 수술, 방사선 치료, 면역 치료 등을 포함하며, 암의 기와 전이 여부에 따라 치료 방법이 달라집니다.</p>
    </div>
  </div>
  <br>
  <h1>확진자 설문 통계 시각화 (신장암)</h1>
  <div id="occupation-chart"></div>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <style>
    .chart-container {
      max-width: 3200px;
      margin: 40px auto;
    }
  </style>
</head>
<body>

  <!-- 직업별 차트 -->
    <div class="chart-container">
      <h2 style="text-align:center;">직업별 분포</h2>

    <div id="occupation-chart"></div>
  </div>

  <!-- 연령별 차트 -->

  <div class="chart-container">
    <h2 style="text-align:center;">연령별 분포</h2>

    <div id="age-chart"></div>
  </div>

  <script>
    // 직업별 차트 옵션
    const occupation_chart_options = {
      series: [{
        name: "Frequency",
        data: [221, 154, 141, 122, 117, 29, 23, 9, 2, 1]
      }],
      chart: {
        type: "bar",
        height: 350,
        length: 550,
      },
      plotOptions: {
        bar: {
          horizontal: false,
          columnWidth: "50%",
          endingShape: "rounded"
        },
      },
      dataLabels: {
        enabled: false
      },
      xaxis: {
        categories: [
          "무직", "회사원", "기타", "자유업", "주부",
          "nan", "전문직", "교사", "학생", "군인"
        ]
      },
      colors: ["#0d6efd"],
      tooltip: {
        y: {
          formatter: function (val) {
            return val + "명";
          }
        }
      }
    };

    // 연령별 차트 옵션
    const age_chart_options = {
      series: [{
        name: "Frequency",
        data: [
          4,4,1,1,1,1,1,1,2,2,2,2,5,1,9,5,4,7,8,3,4,10,8,10,9,11,
          16,16,18,16,20,19,17,17,12,15,18,19,19,19,20,21,19,20,20,
          16,20,17,21,19,18,17,18,18,18,20,18,17,13,16,18,12,15,15,
          7,10,6,2,5,1,3,2,1,1
        ]
      }],
      chart: {
        type: "bar",
        height: 350,
        width: 1000,
      },
      dataLabels: {
        enabled: false
      },

      xaxis: {
        categories: [
          2,4,9,16,17,18,19,21,24,25,26,27,29,30,31,32,33,34,35,36,37,
          38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,
          58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,
          78,79,80,81,82,83,84,85,86,87,88,89,100
        ],
        title: {
          text: "나이"
        }
      },

      tooltip: {
        y: {
          formatter: function (val) {
            return val + "명";
          }
        }
      }
    };
    const occupation_chart = new ApexCharts(document.querySelector("#occupation-chart"), occupation_chart_options);
    const age_chart = new ApexCharts(document.querySelector("#age-chart"), age_chart_options);

    occupation_chart.render();
    age_chart.render();
  </script>


<div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; max-width: 800px; margin: auto;">
  {% for img in [
      'freq_alcohol.png', 'freq_diabetes.png', 
      'freq_heart_disease.png', 'freq_hypertension.png', 'freq_occupation.png',
      'freq_past_cancer.png', 'freq_smoking_now.png', 'freq_smoking_past.png'
  ] %}
    <div style="text-align: center;">
      <img src="{{ url_for('static', filename='dist/assets/img/Kidney_Cancer/' + img) }}"
           alt="{{ img }}"
           style="width: 100%; max-width: 500px; height: auto; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    </div>
    
    <script
  src="https://cdn.jsdelivr.net/npm/apexcharts@3.37.1/dist/apexcharts.min.js"
  integrity="sha256-+vh8GkaU7C9/wbSLIcwq82tQ2wTf44aOHA8HlBMwRI8="
  crossorigin="anonymous"
></script>

  {% endfor %}
</div>
{% endblock %}